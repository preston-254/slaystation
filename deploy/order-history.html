<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order History - Slay Station</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for social media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h1>‚ú® Slay Station ‚ú®</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#home">Home</a></li>
                <li><a href="index.html#products">Bags</a></li>
                <li><a href="wallets.html">Wallets</a></li>
                <li><a href="accessories.html">Accessories</a></li>
                <li><a href="index.html#about">About</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <div id="userInfo" class="user-info" style="display: none;">
                    <!-- User info will be populated here -->
                </div>
                <a href="login.html" id="loginBtn" class="nav-btn-round nav-btn-login">Login</a>
                <a href="signup.html" id="signupBtn" class="nav-btn-round nav-btn-signup">Sign Up</a>
                <button id="logoutBtn" onclick="logout()" class="nav-btn-round nav-btn-logout" style="display: none;">Logout</button>
                <div class="nav-btn-round nav-btn-wishlist" onclick="toggleWishlist()" title="Wishlist">
                    üíñ <span class="nav-badge" id="wishlistCount">0</span>
                </div>
                <div class="nav-btn-round nav-btn-cart" onclick="toggleCart()" title="Cart">
                    üõçÔ∏è <span class="nav-badge" id="cartCount">0</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" style="min-height: 40vh; padding-top: 120px;">
        <div class="hero-content">
            <h1 class="hero-title">My Order History üì¶</h1>
            <p class="hero-subtitle">View all your past orders and track their status!</p>
        </div>
        <div class="hero-decoration">
            <div class="floating-shape shape-1"></div>
            <div class="floating-shape shape-2"></div>
        </div>
    </section>

    <!-- Order History Section -->
    <section class="products-section" style="padding: 4rem 0;">
        <div class="container">
            <div id="loginPrompt" style="text-align: center; padding: 4rem 2rem; display: none;">
                <h2 style="margin-bottom: 1rem; color: var(--primary-pink);">Please Login First! üîê</h2>
                <p style="margin-bottom: 2rem; color: #666; font-size: 1.1rem;">You need to be logged in to view your order history.</p>
                <a href="login.html" class="cta-button" style="display: inline-block;">Login Now</a>
            </div>

            <div id="orderHistoryContent" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                    <h2 class="section-title" style="margin: 0;">Your Orders</h2>
                    <div style="display: flex; gap: 1rem;">
                        <button id="filterAll" class="filter-btn active" onclick="filterOrders('all')">All</button>
                        <button id="filterPending" class="filter-btn" onclick="filterOrders('pending')">Pending</button>
                        <button id="filterProcessing" class="filter-btn" onclick="filterOrders('processing')">Processing</button>
                        <button id="filterDelivered" class="filter-btn" onclick="filterOrders('delivered')">Delivered</button>
                        <button id="filterCancelled" class="filter-btn" onclick="filterOrders('cancelled')">Cancelled</button>
                    </div>
                </div>
                
                <div id="ordersList" class="orders-list">
                    <!-- Orders will be dynamically added here -->
                </div>

                <div id="noOrders" style="text-align: center; padding: 4rem 2rem; display: none;">
                    <h3 style="margin-bottom: 1rem; color: #666;">No orders found! üõçÔ∏è</h3>
                    <p style="margin-bottom: 2rem; color: #999;">Start shopping to see your orders here!</p>
                    <a href="index.html#products" class="cta-button" style="display: inline-block;">Start Shopping</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Shopping Cart -->
    <div class="cart-overlay" id="cartOverlay">
        <div class="cart-sidebar">
            <div class="cart-header">
                <h2>Your Cart üõçÔ∏è</h2>
                <button class="close-cart" onclick="toggleCart()">‚úï</button>
            </div>
            <div class="cart-items" id="cartItems">
                <p class="empty-cart">Your cart is empty. Start shopping!</p>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <strong>Total: KSH <span id="cartTotal">0</span></strong>
                </div>
                <button class="checkout-btn" onclick="checkout()">Checkout</button>
            </div>
        </div>
    </div>

    <!-- Wishlist -->
    <div class="wishlist-overlay" id="wishlistOverlay">
        <div class="wishlist-sidebar">
            <div class="wishlist-header">
                <h2>Your Wishlist üíñ</h2>
                <button class="close-wishlist" onclick="toggleWishlist()">‚úï</button>
            </div>
            <div class="wishlist-items" id="wishlistItems">
                <p class="empty-wishlist">Your wishlist is empty. Start adding your favorites! ‚ú®</p>
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top" onclick="scrollToTop()" title="Back to Top">
        ‚Üë
    </button>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Slay Station. All rights reserved. ‚ú®</p>
            <div class="social-links">
                <a href="https://wa.me/254719563607" target="_blank" rel="noopener noreferrer" class="social-icon whatsapp-icon" title="WhatsApp">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://www.instagram.com/slaystation" target="_blank" rel="noopener noreferrer" class="social-icon instagram-icon" title="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
            </div>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script src="order-history.js"></script>
    <script>
        // Update auth UI on page load
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof updateAuthUI === 'function') {
                updateAuthUI();
            }
            loadOrderHistory();
            loadCartFromStorage();
            updateCartCount();
        });
    </script>
</body>
</html>

